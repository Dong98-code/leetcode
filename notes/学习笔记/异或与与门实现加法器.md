# 位运算

有符号整数通常用补码来表示和存储， 补码的特征：
正整数的补码与原码相同， 负整数的补码与原码除符号位的所有位取反加1
减法运算 为 补码的加法运算来实现

## 与 和 异或 门实现加法

```
0+0=0
0+1=1
1+0=1
1+1=0
```
无进位运算的结果

不考虑进位：结果为 ^ 异或
所有需要进位的位位  a&b 进位后的进位结果为 (a&b)<<1 

注意： 相与 两个1 相与为一 说明在此位需要进1 ，但是进位结果需要再向左移动一位

将整数的加法 拆分为 无进位的加法结果和 进位结果的和

python：
实现

在 `C++` 的实现中，当我们赋给带符号类型一个超出它表示范围的值时，结果是 `undefined`；而当我们赋给无符号类型一个超出它表示范围的值时，结果是初始值对无符号类型表示数值总数取模的余数。因此，我们可以使用无符号类型来防止溢出。

在 `Python` 的实现中，因为 `Python` 的整数类型为是无限长的，所以无论怎样左移位都不会溢出。因此，我们需要对 `Python` 中的整数进行额外处理，以模拟用补码表示的  32 位有符号整数类型。具体地，我们将整数对 2^32 取模，从而使第  33 位及更高位均为 0；因为此时最终结果为用补码表示的包含符号位的  32 位整数，所以我们还需要再次将其换算为 ` Python` 的整数。

![20210926141654](https://xd-imgsubmit.oss-cn-beijing.aliyuncs.com/images/20210926141654.png)